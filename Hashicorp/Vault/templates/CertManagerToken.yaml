{{- if .Values.hub }}
apiVersion: vault.vault.upbound.io/v1alpha1
kind: Token
metadata:
  name: cert-manager-tls-token
spec:
  providerConfigRef:
    name: vault-provider

  forProvider:
    policies:
      - cert-manager
    renewable: true
    ttl: "720h"          # 30 days (pick something youâ€™re comfortable rotating)
    orphan: true

  writeConnectionSecretToRef:
    name: cert-manager-vault-token
    namespace: {{ .Release.Namespace }}
{{- end }}