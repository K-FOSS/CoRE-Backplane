nvidia-device-plugin:
  nodeSelector:
    gpu-node: 'true'

  nfd:
    enabled: false

  gfd:
    enabled: true

  runtimeClassName: nvidia

hami:
  fullnameOverride: hami-core


amd-gpu:
  nfd:
    enabled: false

  labeller:
    enabled: false

  dp:
    resources: {}
    # Set daemonsets updateStrategy for device plugin
    updateStrategy:
      type: RollingUpdate
      rollingUpdate:
        maxUnavailable: 1

  lbl:
    serviceAccount:
      annotations: {}
    securityContext:
      privileged: true # Needed for /dev
      capabilities:
        drop:
          - ALL
        add:
          - CAP_SYS_ADMIN
      readOnlyRootFilesystem: false # true if -logtostderr flag set in labeller
    # If you do want to specify resources, uncomment the following lines, 
    # adjust them as necessary, and remove the curly braces after 'resources:'.
    resources: {}
      # limits:
      #   memory: 20Mi
      #   cpu: 100m
      # requests:
      #   memory: 30Mi
      #   cpu: 150m
    # Set daemonsets updateStrategy for labeller
    updateStrategy:
      type: RollingUpdate
      rollingUpdate:
        maxUnavailable: 1

  imagePullSecrets: []

  securityContext:
    allowPrivilegeEscalation: false
    capabilities:
      drop:
      - ALL

  tolerations:
    - key: CriticalAddonsOnly
      operator: Exists

  node_selector_enabled: true
  node_selector:
    feature.node.kubernetes.io/pci-0300_1002.present: "true"
    kubernetes.io/arch: amd64

node-feature-discovery:
  fullnameOverride: core-nfd

  worker:
    enabled: true

  config: ### <NFD-WORKER-CONF-START-DO-NOT-REMOVE>
    #core:
    #  labelWhiteList:
    #  noPublish: false
    #  noOwnerRefs: false
    #  sleepInterval: 60s
    #  featureSources: [all]
    #  labelSources: [all]
    #  klog:
    #    addDirHeader: false
    #    alsologtostderr: false
    #    logBacktraceAt:
    #    logtostderr: true
    #    skipHeaders: false
    #    stderrthreshold: 2
    #    v: 0
    #    vmodule:
    ##   NOTE: the following options are not dynamically run-time configurable
    ##         and require a nfd-worker restart to take effect after being changed
    #    logDir:
    #    logFile:
    #    logFileMaxSize: 1800
    #    skipLogHeaders: false
    sources:
      pci:
        deviceClassWhitelist:
          - "02"
          - "0200"
          - "0207"
          - "0300"
          - "0302"
        deviceLabelFields:
          - "class"
          - "vendor"
          - "device"
          - "subsystem_vendor"
          - "subsystem_device"
    #  usb:
    #    deviceClassWhitelist:
    #      - "0e"
    #      - "ef"
    #      - "fe"
    #      - "ff"
    #    deviceLabelFields:
    #      - "class"
    #      - "vendor"
    #      - "device"    